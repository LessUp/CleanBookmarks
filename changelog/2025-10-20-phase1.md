# Phase 1 变更记录 (2025-10-20)

- 新增 `taxonomy/subjects.yaml` 与 `taxonomy/resource_types.yaml` 受控词表（KISS，简单可维护）。
- 新增标准化层 `src/taxonomy_standardizer.py`：
  - 加载 YAML 词表；
  - `normalize_subject()` / `normalize_resource_type()`；
  - `derive_from_category()` 支持从旧的 `主类/子类` 派生 subject/resource_type。
- `config.json` 新增 `taxonomy` 配置块，指向词表文件。
- 修复 `src/ai_classifier.py` 中 LLM 调用被截断的问题，并清理损坏/重复的方法定义，保证 `classify()` 单一定义与融合流程可运行。
- 调整 `src/bookmark_processor.py`：
  - 导入并初始化 `TaxonomyStandardizer`；
  - 将 `_organize_bookmarks()` 改为 `subject -> resource_type` 两级组织；
  - 保持导出格式兼容（`placeholder_modules.DataExporter` 无需改动）。

兼容性：
- 旧分类名仍可通过 `derive_from_category()` 与标准化层正确归并；
- 不改变导出器接口与结构，输出组织结构字段名保持 `_items` 与 `_subcategories`。

后续（Phase 2 建议）：
- 在 `rule_engine` 规则中输出 `facet hints`（如 resource_type 提示），传入标准化层；
- 在导出报告中展示 subject/resource_type 统计；
- 增加最小单元测试覆盖标准化映射与组织逻辑。
